<?xml version="1.0" encoding="utf-8"?>
<mx:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009" 
					   xmlns:s="library://ns.adobe.com/flex/spark" 
					   xmlns:mx="library://ns.adobe.com/flex/mx"
					   xmlns:weave="weave.*"
					   enterFrame="handleEnterFrame()"
					   paddingTop="0"
					   paddingLeft="0"
					   paddingBottom="0"
					   paddingRight="0">
	<fx:Script>
		<![CDATA[
			import mx.core.FlexGlobals;
			
			import weave.VisApplication;
			import weave.Weave;
//			import mx.core.UIComponent;
//			
//			import weave.api.ui.ILinkableContainer;
//			_InitializeWeaveCore;
//			_InitializeWeaveUI;
//			_InitializeWeaveUISpark;
//			_InitializeWeaveData;
//			// for backwards compatibility with old JavaScript evaluateExpression() code
//			[Deprecated] public function get visDesktop():ILinkableContainer { return visApp.visDesktop; }
//			[Deprecated] public function get flashVars():Object { return visApp.flashVars; }
//			[Deprecated] public function printOrExportImage(component:UIComponent):void { visApp.printOrExportImage(component); }
			var xPos:* = VisApplication;
//			Weave.root;
			
			private var visApp:VisApplication = null
			private function handleEnterFrame():void
			{
				if(FlexGlobals.topLevelApplication && FlexGlobals.topLevelApplication.stage && !visApp)
				{
					addChild(visApp = new VisApplication());
				}
			}
		]]>
	</fx:Script>
	<!--<weave:VisApplication width="100%" height="100%" id="visApp"/>-->
</mx:WindowedApplication >
